/* ==========================================================================
   Trendy Dev Blog SCSS for GitHub Pages (Jekyll)
   Paste-ready. Works as an override layer on most themes.
   ========================================================================== */

/* ---------- Design Tokens ---------- */
:root {
  /* Typography */
  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Noto Sans KR", "Noto Sans", "Malgun Gothic", Arial, "Segoe UI Emoji", "Apple Color Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Radii / shadow */
  --r-xs: 8px;
  --r-sm: 12px;
  --r-md: 16px;
  --r-lg: 22px;
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 10px 24px rgba(0, 0, 0, 0.10);
  --shadow-lg: 0 18px 46px rgba(0, 0, 0, 0.14);

  /* Spacing */
  --container: 920px;
  --gutter: 20px;

  /* Light palette */
  --bg: #0b0f14;
  --bg2: #0f1620;
  --card: rgba(255, 255, 255, 0.06);
  --card2: rgba(255, 255, 255, 0.08);
  --border: rgba(255, 255, 255, 0.12);

  --text: rgba(255, 255, 255, 0.92);
  --muted: rgba(255, 255, 255, 0.68);
  --faint: rgba(255, 255, 255, 0.52);

  /* Accent */
  --accent: #7c3aed; /* violet */
  --accent2: #22c55e; /* green */
  --accent3: #06b6d4; /* cyan */
  --danger: #ef4444;

  /* Code */
  --code-bg: rgba(255, 255, 255, 0.06);
  --code-border: rgba(255, 255, 255, 0.10);
  --code-text: rgba(255, 255, 255, 0.92);

  /* Links */
  --link: #a78bfa;
  --link-hover: #c4b5fd;

  /* Subtle gradient background */
  --grad1: radial-gradient(1200px 700px at 20% -10%, rgba(124, 58, 237, 0.35), transparent 55%);
  --grad2: radial-gradient(900px 600px at 85% 5%, rgba(6, 182, 212, 0.25), transparent 55%);
  --grad3: radial-gradient(900px 600px at 60% 110%, rgba(34, 197, 94, 0.18), transparent 55%);

  color-scheme: dark;
}

@media (prefers-color-scheme: light) {
  :root {
    --bg: #f7f8fb;
    --bg2: #eef2ff;
    --card: rgba(255, 255, 255, 0.72);
    --card2: rgba(255, 255, 255, 0.92);
    --border: rgba(2, 6, 23, 0.10);

    --text: rgba(2, 6, 23, 0.92);
    --muted: rgba(2, 6, 23, 0.70);
    --faint: rgba(2, 6, 23, 0.55);

    --code-bg: rgba(2, 6, 23, 0.05);
    --code-border: rgba(2, 6, 23, 0.10);
    --code-text: rgba(2, 6, 23, 0.92);

    --link: #6d28d9;
    --link-hover: #7c3aed;

    --grad1: radial-gradient(1200px 700px at 20% -10%, rgba(124, 58, 237, 0.22), transparent 55%);
    --grad2: radial-gradient(900px 600px at 85% 5%, rgba(6, 182, 212, 0.16), transparent 55%);
    --grad3: radial-gradient(900px 600px at 60% 110%, rgba(34, 197, 94, 0.12), transparent 55%);

    color-scheme: light;
  }
}

/* ---------- Base ---------- */
*,
*::before,
*::after { box-sizing: border-box; }

html { scroll-behavior: smooth; }

body {
  margin: 0;
  font-family: var(--font-sans);
  line-height: 1.65;
  color: var(--text);
  background: var(--bg);
  background-image: var(--grad1), var(--grad2), var(--grad3);
  background-attachment: fixed;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Better text rendering */
  text-rendering: optimizeLegibility;
  font-feature-settings: "ss01" 1, "ss02" 1, "cv11" 1;
}

/* Selection */
::selection {
  background: rgba(124, 58, 237, 0.35);
}

/* Images */
img, video, canvas, svg { max-width: 100%; height: auto; }

/* Better default links */
a {
  color: var(--link);
  text-decoration: none;
  text-underline-offset: 3px;
  transition: color .18s ease, opacity .18s ease, text-decoration-color .18s ease;
}
a:hover { color: var(--link-hover); text-decoration: underline; }
a:focus-visible {
  outline: 2px solid rgba(124, 58, 237, 0.55);
  outline-offset: 3px;
  border-radius: 8px;
}

/* ---------- Layout Helpers (Jekyll themes friendly) ---------- */
/* Common wrappers used by themes: .wrapper, .container, .page-content, main */
.wrapper,
.container,
.page-content,
main {
  max-width: var(--container);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--gutter);
  padding-right: var(--gutter);
}

header, .site-header, .masthead {
  position: sticky;
  top: 0;
  z-index: 50;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: linear-gradient(to bottom, rgba(10, 14, 20, 0.75), rgba(10, 14, 20, 0.35));
  border-bottom: 1px solid var(--border);
}

@media (prefers-color-scheme: light) {
  header, .site-header, .masthead {
    background: linear-gradient(to bottom, rgba(247, 248, 251, 0.85), rgba(247, 248, 251, 0.45));
  }
}

/* Title / nav polish */
.site-title, .site-title a, .masthead-title, .navbar-brand {
  font-weight: 750;
  letter-spacing: -0.02em;
}
.site-nav a, nav a {
  opacity: 0.90;
}
.site-nav a:hover, nav a:hover { opacity: 1; }

/* Footer */
footer, .site-footer {
  margin-top: 64px;
  padding: 28px 0;
  color: var(--muted);
  border-top: 1px solid var(--border);
}

/* ---------- Content Typography ---------- */
h1, h2, h3, h4, h5, h6 {
  letter-spacing: -0.03em;
  line-height: 1.18;
  margin: 1.4em 0 0.55em;
  scroll-margin-top: 88px; /* anchor offset for sticky header */
}

h1 { font-size: clamp(2rem, 4vw, 2.6rem); }
h2 { font-size: clamp(1.55rem, 2.8vw, 1.95rem); }
h3 { font-size: clamp(1.25rem, 2.2vw, 1.55rem); }
h4 { font-size: 1.1rem; }
p { margin: 0.85em 0; color: var(--text); }

small, .small { color: var(--muted); }

blockquote {
  margin: 1.2em 0;
  padding: 14px 16px;
  border-left: 4px solid rgba(124, 58, 237, 0.55);
  background: linear-gradient(90deg, rgba(124, 58, 237, 0.10), transparent 70%);
  border-radius: var(--r-sm);
  color: var(--muted);
}
blockquote p { margin: 0.4em 0; }

hr {
  border: none;
  border-top: 1px solid var(--border);
  margin: 2em 0;
}

/* Lists */
ul, ol { padding-left: 1.2em; }
li { margin: 0.35em 0; }
li::marker { color: rgba(124, 58, 237, 0.75); }

/* ---------- Cards / Post Containers ---------- */
/* Works with: .post, .post-content, article, .page, .entry */
article, .post, .page, .entry {
  position: relative;
}

.post, article, .page, .entry {
  background: linear-gradient(180deg, var(--card2), var(--card));
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  box-shadow: var(--shadow-md);
  padding: clamp(18px, 3.2vw, 30px);
  margin: 22px 0;
}

.post-title, .entry-title, h1.post-title {
  margin-top: 0.2em;
}

.post-meta, .entry-meta, .post-date {
  color: var(--muted);
  font-size: 0.95rem;
}

/* Subtle top highlight line */
.post::before, article::before, .page::before, .entry::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: var(--r-lg);
  pointer-events: none;
  background: radial-gradient(1200px 220px at 10% 0%, rgba(124, 58, 237, 0.18), transparent 60%);
  mask: linear-gradient(#000, transparent 55%);
  opacity: 0.9;
}

/* ---------- Inline code / Code blocks ---------- */
code, kbd, samp {
  font-family: var(--font-mono);
  font-size: 0.95em;
}

p code, li code, td code, .highlighter-rouge code {
  padding: 0.14em 0.45em;
  border-radius: 10px;
  background: var(--code-bg);
  border: 1px solid var(--code-border);
  color: var(--code-text);
}

pre, figure.highlight, div.highlight {
  position: relative;
  margin: 1.1em 0 1.25em;
  border-radius: var(--r-md);
  border: 1px solid var(--code-border);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.04));
  overflow: auto;
  box-shadow: var(--shadow-sm);
}

@media (prefers-color-scheme: light) {
  pre, figure.highlight, div.highlight {
    background: linear-gradient(180deg, rgba(2, 6, 23, 0.05), rgba(2, 6, 23, 0.035));
  }
}

pre code {
  display: block;
  padding: 16px 16px;
  line-height: 1.6;
  color: var(--code-text);
  background: transparent;
  border: none;
}

/* Add a tiny "traffic lights" header like modern editors (optional) */
pre::before, figure.highlight::before, div.highlight::before {
  content: "";
  display: block;
  height: 12px;
  margin: 10px 12px 0;
  border-radius: 999px;
  background:
    radial-gradient(circle at 10px 6px, rgba(239, 68, 68, 0.85) 0 4px, transparent 5px),
    radial-gradient(circle at 30px 6px, rgba(245, 158, 11, 0.85) 0 4px, transparent 5px),
    radial-gradient(circle at 50px 6px, rgba(34, 197, 94, 0.85) 0 4px, transparent 5px);
  opacity: 0.9;
}

/* Code block padding offset due to header line */
pre code, figure.highlight pre code, div.highlight pre code { padding-top: 10px; }

/* Optional: copy button styling if your theme/plugin adds it */
.copy-code-button, button.copy-code-button {
  position: absolute;
  top: 10px;
  right: 10px;
  font: 600 12px/1 var(--font-sans);
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(0, 0, 0, 0.22);
  color: var(--text);
  cursor: pointer;
  transition: transform .15s ease, opacity .15s ease, background .15s ease;
}
.copy-code-button:hover { transform: translateY(-1px); background: rgba(0, 0, 0, 0.32); }

/* ---------- Tables ---------- */
table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 1.2em 0;
  overflow: hidden;
  border-radius: var(--r-md);
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
}
th, td {
  padding: 12px 12px;
  border-bottom: 1px solid var(--border);
  vertical-align: top;
}
th {
  text-align: left;
  font-size: 0.95rem;
  color: var(--muted);
  background: rgba(255,255,255,0.04);
}
tr:last-child td { border-bottom: none; }

/* ---------- Images with captions (Markdown: ![]() + <em> or <figcaption>) ---------- */
figure {
  margin: 1.4em 0;
  border-radius: var(--r-lg);
  overflow: hidden;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.04);
  box-shadow: var(--shadow-sm);
}
figcaption {
  padding: 10px 12px;
  color: var(--muted);
  font-size: 0.95rem;
  border-top: 1px solid var(--border);
}

/* ---------- Callouts (use blockquote with strong label) ---------- */
blockquote strong {
  color: var(--text);
}

/* ---------- TOC (works with common Jekyll TOC plugins) ---------- */
#toc, .toc, nav.toc {
  margin: 18px 0 22px;
  padding: 14px 14px;
  border-radius: var(--r-lg);
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(124, 58, 237, 0.10), rgba(255, 255, 255, 0.04));
}

#toc > ul, .toc > ul, nav.toc > ul {
  margin: 0.4em 0;
  padding-left: 1.1em;
}

#toc a, .toc a, nav.toc a {
  color: var(--text);
  opacity: 0.86;
  text-decoration: none;
}
#toc a:hover, .toc a:hover, nav.toc a:hover {
  opacity: 1;
  color: var(--link-hover);
  text-decoration: underline;
}

/* ---------- Tags / badges ---------- */
.tag, .badge, a.tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  color: var(--text);
  font-size: 0.88rem;
  text-decoration: none;
  margin-right: 6px;
}
.tag:hover, .badge:hover, a.tag:hover {
  background: rgba(124, 58, 237, 0.12);
  border-color: rgba(124, 58, 237, 0.35);
}

/* ---------- Buttons (if theme uses .btn) ---------- */
.btn, button, input[type="submit"] {
  font-family: var(--font-sans);
}
.btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(124, 58, 237, 0.45);
  background: linear-gradient(180deg, rgba(124, 58, 237, 0.35), rgba(124, 58, 237, 0.18));
  color: var(--text);
  font-weight: 650;
  box-shadow: var(--shadow-sm);
  transition: transform .15s ease, filter .15s ease, border-color .15s ease;
}
.btn:hover {
  transform: translateY(-1px);
  border-color: rgba(124, 58, 237, 0.65);
  filter: brightness(1.05);
}

/* ---------- Pagination / post list ---------- */
.pagination, .pager {
  display: flex;
  gap: 10px;
  justify-content: space-between;
  margin: 26px 0 0;
}
.pagination a, .pager a {
  flex: 1;
  padding: 12px 14px;
  border-radius: var(--r-lg);
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  color: var(--text);
  text-decoration: none;
}
.pagination a:hover, .pager a:hover {
  border-color: rgba(124, 58, 237, 0.40);
  background: rgba(124, 58, 237, 0.10);
}

/* ---------- Post list cards (common: .post-list > li) ---------- */
.post-list, ul.post-list {
  list-style: none;
  padding-left: 0;
  margin: 18px 0;
}
.post-list > li {
  margin: 14px 0;
  padding: 16px 16px;
  border-radius: var(--r-lg);
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  box-shadow: var(--shadow-sm);
  transition: transform .15s ease, border-color .15s ease, background .15s ease;
}
.post-list > li:hover {
  transform: translateY(-2px);
  border-color: rgba(124, 58, 237, 0.40);
  background: rgba(124, 58, 237, 0.08);
}
.post-list .post-link, .post-list a {
  font-weight: 720;
  letter-spacing: -0.02em;
}

/* ---------- Search box (if exists) ---------- */
input[type="search"], input[type="text"], input[type="email"], textarea {
  width: 100%;
  max-width: 100%;
  padding: 11px 12px;
  border-radius: var(--r-md);
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  color: var(--text);
  outline: none;
  transition: border-color .15s ease, box-shadow .15s ease;
}
input[type="search"]:focus, input[type="text"]:focus, input[type="email"]:focus, textarea:focus {
  border-color: rgba(124, 58, 237, 0.55);
  box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.18);
}

/* ---------- Anchor link icon (if theme adds .anchor / .heading-anchor) ---------- */
.anchor, .heading-anchor {
  opacity: 0.0;
  margin-left: 8px;
  transition: opacity .15s ease;
}
h1:hover .anchor, h2:hover .anchor, h3:hover .anchor, h4:hover .anchor,
h1:hover .heading-anchor, h2:hover .heading-anchor, h3:hover .heading-anchor, h4:hover .heading-anchor {
  opacity: 0.85;
}

/* ---------- Scrollbar (webkit) ---------- */
*::-webkit-scrollbar { height: 12px; width: 12px; }
*::-webkit-scrollbar-track { background: rgba(255,255,255,0.04); }
*::-webkit-scrollbar-thumb {
  background: rgba(124, 58, 237, 0.35);
  border-radius: 999px;
  border: 3px solid rgba(0,0,0,0);
  background-clip: padding-box;
}
*::-webkit-scrollbar-thumb:hover { background: rgba(124, 58, 237, 0.50); background-clip: padding-box; }

/* ---------- GitHub flavored markdown tweaks ---------- */
.markdown-body, .post-content, .entry-content {
  font-size: 1.03rem;
}

.post-content a, .entry-content a {
  text-decoration-color: rgba(167, 139, 250, 0.35);
}
.post-content a:hover, .entry-content a:hover {
  text-decoration-color: rgba(196, 181, 253, 0.7);
}

/* Reduce overly-wide code on mobile */
@media (max-width: 680px) {
  :root { --gutter: 16px; }
  pre code { font-size: 0.92em; }
  .post, article, .page, .entry { padding: 16px; border-radius: 18px; }
  .pagination, .pager { flex-direction: column; }
}

/* ---------- Optional: subtle page fade-in ---------- */
@media (prefers-reduced-motion: no-preference) {
  body {
    animation: pageIn .35s ease both;
  }
  @keyframes pageIn {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0); }
  }
}


/* ==========================================================================
   Compact Dev Blog Mode (override)
   작은 타이포 + 정보밀도 높은 레이아웃
   ========================================================================== */

/* ---------- Base scale down ---------- */
:root {
  --container: 820px;      /* 본문 폭 조금 축소 */
  --r-md: 12px;
  --r-lg: 14px;
}

/* 전체 폰트 크기 다운 */
body {
  font-size: 14.5px;
  line-height: 1.6;
}

/* ---------- Typography (compact) ---------- */
h1 { font-size: 1.7rem; margin: 1.1em 0 0.4em; }
h2 { font-size: 1.35rem; margin: 1em 0 0.4em; }
h3 { font-size: 1.15rem; margin: 0.9em 0 0.35em; }
h4 { font-size: 1rem; }

p { margin: 0.55em 0; }
li { margin: 0.25em 0; }

/* 메타 정보 더 작게 */
.post-meta,
.entry-meta,
.post-date {
  font-size: 0.82rem;
  opacity: 0.85;
}

/* ---------- Card / Post spacing ---------- */
.post,
article,
.page,
.entry {
  padding: 16px 18px;
  margin: 14px 0;
  border-radius: var(--r-lg);
}

/* ---------- Code (developer-friendly compact) ---------- */
pre,
figure.highlight,
div.highlight {
  margin: 0.8em 0 1em;
  border-radius: 10px;
}

pre code {
  padding: 12px 12px;
  font-size: 13px;
  line-height: 1.55;
}

/* inline code 작게 */
p code,
li code {
  font-size: 0.88em;
  padding: 0.08em 0.35em;
}

/* 코드블록 위 헤더 줄 줄이기 */
pre::before,
figure.highlight::before,
div.highlight::before {
  height: 8px;
  margin: 8px 10px 0;
}

/* ---------- TOC compact ---------- */
#toc,
.toc,
nav.toc {
  padding: 10px 12px;
  font-size: 0.92rem;
}

/* ---------- Table compact ---------- */
table {
  font-size: 0.92rem;
}
th,
td {
  padding: 8px 10px;
}

/* ---------- Tag / Badge ---------- */
.tag,
.badge,
a.tag {
  font-size: 0.78rem;
  padding: 4px 8px;
}

/* ---------- Post List (목록형 개발블로그 느낌) ---------- */
.post-list > li {
  padding: 12px 14px;
  margin: 10px 0;
}
.post-list .post-link {
  font-size: 1rem;
}

/* ---------- Header / Nav compact ---------- */
header,
.site-header,
.masthead {
  min-height: 48px;
}
.site-title {
  font-size: 1.05rem;
}
nav a,
.site-nav a {
  font-size: 0.9rem;
}

/* ---------- Footer ---------- */
footer,
.site-footer {
  font-size: 0.85rem;
  padding: 20px 0;
}

/* ---------- Scrollbar thinner ---------- */
*::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}

/* ---------- Mobile tighter ---------- */
@media (max-width: 680px) {
  body { font-size: 14px; }

  .post,
  article,
  .page,
  .entry {
    padding: 14px;
  }

  h1 { font-size: 1.5rem; }
  h2 { font-size: 1.25rem; }
  h3 { font-size: 1.05rem; }
}